{% extends 'BackendBundle:Principal:layout.html.twig' %}

{% block body %}
    <div class="page-title">
        <h5><i class="fa fa-table"></i> Usuário </h5>
    </div>
    <form action="{{ path('fos_user_change_password') }}" {{ form_enctype(form) }} method="POST" class="form-horizontal" role="form">

        <div class="panel panel-default">
            <div class="panel-heading"><h6 class="panel-title">Editar a senha do usuário</h6></div>
            <div class="panel-body">
                {% if not form.vars.valid %}

                    <div class="alert alert-danger fade in widget-inner">
                        <button type="button" class="close" data-dismiss="alert">×</button>
                        {% if form.current_password.vars.errors|length %}
                            Senha atual não confere.
                        {% endif %}

                        {{ form_errors(form.plainPassword.first) }}
                    </div>
                {% endif %}
                <div class="form-group">
                    <label class="col-sm-2 control-label">Senha Atual: </label>
                    <div class="col-sm-10">
                        {{form_widget(form.current_password)}}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Nova senha: </label>
                    <div class="col-sm-10">
                        {{form_widget(form.plainPassword.first)}}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Repetir nova senha: </label>
                    <div class="col-sm-10">
                        {{form_widget(form.plainPassword.second)}}
                    </div>
                </div>

                <div class="form-actions text-right">
                    {{form_row(form._token)}}
                    {{form_row(form.save)}}
                </div>
            </div>
        </div>
    </form>
{% endblock %}
